---
name: setup
description: Configure mark-my-words for your Quartz blog. Sets up source location, author info, and preferences.
disable-model-invocation: true
allowed-tools: Read, Write, Bash, Glob, AskUserQuestion
---

# mark-my-words Setup

You are configuring the mark-my-words plugin for the user's Quartz blog. Your job is to gather their settings and write a config file.

## Steps

1. **Check for existing config**: Read `.claude/mark-my-words.local.md` if it exists. If it does, tell the user their current settings and ask if they want to reconfigure.

2. **Gather blog source info**: Use AskUserQuestion to ask where their Quartz blog content lives:

   Ask about **source type**:
   - "Remote git repo" — they'll provide a repo URL and branch
   - "Local directory" — they'll provide a path to their Quartz content root

3. **If remote**: Use AskUserQuestion to ask for:
   - Repository URL (e.g., `git@github.com:user/blog.git` or HTTPS URL)
   - Branch name (suggest `main` as default)

4. **If local**: Use AskUserQuestion to ask for the path to their Quartz content root directory.

5. **Gather content preferences**: Use AskUserQuestion for each:
   - **Content directory name**: The root content directory (e.g., `content`). This is the top-level folder Quartz reads from.
   - **Default subdirectory**: Where new posts go within the content directory (e.g., `blog`, `notes`, or empty for root). Suggest common options.
   - **Default author name**: Their name as it should appear in posts.
   - **Default tags**: Comma-separated list of tags they commonly use. These will be suggested when creating posts.

6. **Git workflow preference**: Use AskUserQuestion:
   - "Always ask" — prompt before each commit/push
   - "Auto-commit" — automatically commit and push after changes
   - "Manual" — never auto-commit, user handles git themselves

7. **Write the config file**: Create `.claude/mark-my-words.local.md` with the gathered settings in YAML frontmatter. Ensure the `.claude/` directory exists first.

## Config File Format

Write the file at `.claude/mark-my-words.local.md` with this structure:

```markdown
---
source_type: remote  # or "local"
repo_url: ""  # git remote URL, used when source_type is "remote"
repo_branch: main  # branch to use for remote repos
local_path: ""  # absolute path, used when source_type is "local"
content_dir: content  # root content directory name
default_subdirectory: blog  # subdirectory within content_dir for new posts
default_author: ""
default_tags: []
git_workflow: ask  # "ask", "auto", or "manual"
---

# mark-my-words Configuration

This file was generated by `/mark-my-words:setup`. Run it again to reconfigure.

Settings are used by the new-post, update-post, and manage-post skills.
```

8. **Confirm**: Tell the user their config has been saved and they can now use `/mark-my-words:new-post`, `/mark-my-words:update-post`, and `/mark-my-words:manage-post`.
